# 🎨 鋼鐵人視覺控制器 - 功能演示指南

## 視覺界面布局

```
┌────────────────────────────────────────────────────────┐
│                    [系統狀態]        [檢測模式]         │
│                                                         │
│         ┌─────────────────────────────────┐            │
│         │   攝像頭視頻流                   │            │
│         │  (實時手部骨骼繪製)              │            │
│         │   掃描線、焦點圓圈效果           │            │
│         └─────────────────────────────────┘            │
│                  可用手勢提示                           │
│            [🎥] [👐] [🗑️]                             │
│                                                         │
│              [信號強度]        [控制映射]              │
└────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────┐
│              互動控制對象                               │
│     [光球#1]  [光球#2]  [光球#3]  [光球#4]            │
└────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────┐
│              手勢識別信息                               │
│   當前手勢  置信度  手指數量  FPS                       │
└────────────────────────────────────────────────────────┘
```

## 使用流程

### 初始化階段
```
1. 打開網頁 (http://localhost:8000)
   ↓
2. 查看歡迎 Modal（可選）
   ↓
3. 點擊「點擊要開始」按鈕
   ↓
4. 系統進入待命狀態
```

### 啟動階段
```
1. 點擊藍色「📷 啟動攝像頭」按鈕
   ↓
2. 瀏覽器請求攝像頭權限
   ↓
3. 點擊「允許」授予權限
   ↓
4. 視頻流出現在屏幕中央
   ↓
5. 系統狀態更新為「攝像頭已就緒」
```

### 檢測階段
```
1. 點擊綠色「👐 切換手勢檢測」按鈕
   ↓
2. 系統開始分析攝像頭中的手部動作
   ↓
3. 信息面板實時更新數據
   ↓
4. 手部骨骼線條出現在視頻上
```

### 互動階段
```
進行手勢 → 系統識別 → 光球激活 → 視覺反饋
   ↓
- 食指指向：根據位置選擇光球
- 勝利手勢：隨機激活光球
- 開放手掌：重置所有光球
```

## 手勢識別流程

```
攝像頭影像
   ↓
├─ MediaPipe Hands 檢測
│  ├─ 識別手部位置
│  ├─ 檢測 21 個關鍵點
│  └─ 計算置信度
│      ↓
├─ Canvas 繪製手骨骼
│  ├─ 繪製 21 個點
│  ├─ 繪製連接線
│  └─ 添加點編號
│      ↓
├─ 手勢識別算法
│  ├─ 計算手指狀態
│  ├─ 匹配手勢模式
│  └─ 返回識別結果
│      ↓
└─ 控制邏輯執行
   ├─ 根據手勢類型
   ├─ 根據手指位置
   └─ 激活相應光球
      ↓
   UI 更新和視覺反饋
```

## 光球控制映射

```
食指指向模式：
┌──────────────────┐
│  光球#1  光球#2  │  (上半部)
│  光球#3  光球#4  │  (下半部)
└──────────────────┘
         ↑
     手指位置

勝利手勢模式：
   任意位置 → 隨機選擇一個光球 → 激活

開放手掌模式：
   任意手勢 → 重置所有光球 → 恢復初始狀態

拳頭模式：
   無操作 → 系統待命 → 等待下一個手勢
```

## 實時信息監控

```
┌─────────────────────────────────┐
│      手勢識別信息面板            │
├─────────────────────────────────┤
│  當前手勢： 食指指向             │
│  置信度：   85%                  │
│  手指數量： 1                    │
│  FPS：      45                   │
└─────────────────────────────────┘

說明：
- 當前手勢：系統識別的當前手勢類型
- 置信度：識別結果的確信程度（0-100%）
- 手指數量：當前豎起的手指數
- FPS：每秒幀數（性能指標）
```

## 光球視覺反饋

### 常規狀態
```
圓形邊框 + 漸變背景
顯示顏色對應的光球
狀態文本：「就緒」
```

### 激活狀態 (500ms)
```
1. 光球膨脹（scale 1.15）
2. 邊框發光
3. 狀態文本：「✅ 已激活」
4. 狀態文本顏色變為青色
5. 500ms 後恢復正常
```

### 激活波浪效果
```
激活前     →     激活中     →     激活後
  ○              ◎ ◎ ◎           ○
(小)           (脈衝效果)       (恢復)
```

## 系統反饋指示器

### 左上角 - 系統狀態
```
┌─ 初始化中
├─ 攝像頭啟動中...
├─ 攝像頭已就緒
├─ 就緒
└─ 已關閉
```

### 右上角 - 檢測模式
```
┌─ 準備就緒
├─ 相機流就緒
├─ ✅ 手勢檢測已啟用
├─ ⏸️ 手勢檢測已停用
└─ 相機已停止
```

### 左下角 - 信號強度
```
┌─ 信號條 1 条
├─ 信號條 2 条 (次強)
├─ 信號條 3 条 (最強)
└─ 動態脈衝效果
```

### 右下角 - 控制映射
```
┌─ 等待手勢
├─ 🎯 指向模式
├─ 🔄 重置模式
├─ ✨ 隨機激活
└─ 👐 等待手勢
```

## 按鈕交互

### 啟動攝像頭按鈕
```
├─ 未激活時
│  ├─ 文本：「📷 啟動攝像頭」
│  ├─ 邊框：金色（#ffb300）
│  └─ 效果：懸停時發光
│
└─ 激活時
   ├─ 文本：「📷 停止攝像頭」
   ├─ 邊框：金色發光
   └─ 效果：背景填充
```

### 切換手勢檢測按鈕
```
├─ 關閉時
│  ├─ 文本：「👐 切換手勢檢測」
│  └─ 顏色：青色（#00d4ff）
│
└─ 啟用時
   ├─ 文本：「👐 停止檢測」
   └─ 顏色：青色發光
```

### 清除跟蹤按鈕
```
├─ 文本：「🗑️ 清除跟蹤」
├─ 顏色：紅色（#ff1744）
└─ 效果：懸停時膨脹
```

## 響應式界面變化

### 桌面版 (1024px+)
```
完整 HUD 界面
所有元素可見
最佳視覺效果
```

### 平板版 (768px-1023px)
```
適度縮放
手勢提示轉為 2x2 網格
光球尺寸縮小
```

### 手機版 (<768px)
```
緊湊布局
垂直堆疊元素
單列控制對象
簡化信息顯示
```

## 動畫序列

### 掃描線動畫
```
循環時間：2 秒
效果：持續向下滾動
目的：增強 HUD 科幻感
```

### 焦點圓圈脈衝
```
循環時間：2 秒
效果：膨脹和收縮
強度：1.0 → 1.1 → 1.0
```

### 信號條脈衝
```
循環時間：0.6 秒/條
延遲：0.2 秒間隔
效果：波浪式閃爍
```

### 光球激活脈衝
```
持續時間：500 毫秒
效果：快速膨脹和收縮
強度：1.0 → 1.15 → 1.0
```

## 性能監控圖表

```
FPS 變化：
60 ─────────────
55 ─╱╲──╱╲────
50 ─  ╰──╱  ───
45 ────────────
40 ────────────
   時間軸 →

手指檢測：
5   ─────────
4   ──╱──╱──
3   ──╰─╱───
2   ─────────
1   ────────
0   ────────
    時間軸 →
```

## 故障診斷視覺提示

### 攝像頭訪問失敗
```
❌ 攝像頭訪問失敗
├─ 黑色視頻區域
├─ 紅色錯誤信息
└─ 按鈕文本變為紅色
```

### 無法檢測到手部
```
⚠️ 無檢測信號
├─ 視頻流顯示但無骨骼線
├─ 信息面板顯示「無」
└─ FPS 計數器仍更新
```

### 低 FPS 警告
```
⚡ 性能不足
├─ FPS 顯示 < 20
├─ 界面可能略有延遲
└─ 建議關閉其他應用
```

---

## 交互示例

### 示例 1：指向激活光球
```
1. 系統已就緒
2. 用戶伸出食指
3. 食指指向視頻左上角
4. 系統識別「食指指向」
5. 光球#1 獲得焦點
6. 光球#1 發出脈衝
7. 狀態文本變為「✅ 已激活」
8. 500ms 後恢復正常
```

### 示例 2：勝利手勢隨機激活
```
1. 系統已就緒
2. 用戶做出勝利手勢（V 形）
3. 系統識別「勝利手勢」
4. 隨機選擇 1-4 號光球
5. 被選光球激活並脈衝
6. 其他光球保持待命
7. 500ms 後全部恢復
```

### 示例 3：開放手掌重置
```
1. 已激活多個光球
2. 用戶展開五指形成開放手掌
3. 系統識別「開放手掌」
4. 觸發 resetAllOrbs() 函數
5. 所有光球同時重置
6. 狀態文本全部變為「就緒」
7. 系統恢復待命狀態
```

---

**祝您享受鋼鐵人視覺控制器的神奇體驗！🚀**
